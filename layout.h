#include "quantum/keycodes.h"

// macOS shortcuts
#define Z_UND   G(KC_Z)
#define Z_CUT   G(KC_X)
#define Z_CPY   G(KC_C)
#define Z_PST   G(KC_V)
#define Z_LOCK  C(G(KC_Q))
#define Z_SLEEP A(G(KC_PWR))
#define Z_SHUT  C(A(G(KC_PWR)))
#define Z_SSAVE HYPR(KC_S)
#define ALT_BSP A(KC_BSPC)

// Application shortcuts
#define SA_UP  S(A(KC_UP))
#define SA_DN  S(A(KC_DOWN))
#define SG_SPC LSG(KC_SPC)

// Tap hold macros
#define TH_M    LT(0,KC_M)
#define TH_COMM LT(0,KC_COMM)
#define TH_DOT  LT(0,KC_DOT)
#define TH_SLSH LT(0,KC_SLSH)
#define TH(k1,k2,k3,k4) LT(0,k1),LT(0,k2),LT(0,k3),LT(0,k4)

// Mod tap macros
#define HM_A    LCTL_T(KC_A)
#define HM_S    LALT_T(KC_S)
#define HM_D    LGUI_T(KC_D)
#define HM_F    LSFT_T(KC_F)
#define HM_J    RSFT_T(KC_J)
#define HM_K    RGUI_T(KC_K)
#define HM_L    RALT_T(KC_L)
#define HM_QUOT RCTL_T(KC_QUOT)
#define HRML(k1,k2,k3,k4) LCTL_T(k1),LALT_T(k2),LGUI_T(k3),LSFT_T(k4)
#define HRMR(k1,k2,k3,k4) RSFT_T(k1),RGUI_T(k2),RALT_T(k3),RCTL_T(k4)

// Thumb keys
#define MSE_TAB LT(_MOUSE,KC_TAB)
#define NAV_SPC LT(_NAV,KC_SPC)
#define MED_ESC LT(_MEDIA,KC_ESC)
#define SYM_ENT LT(_SYM,KC_ENT)
#define NUM_BSP LT(_NUM,KC_BSPC)
#define FUN_DEL LT(_FUN,KC_DEL)

// Button Layer
#define BTN(k) LT(_BUTTON, k)

// Layers
enum custom_layers { BSE, TGL, NUM, SYM, FNC };

// enum custom_layers { BASE, NAV, MOUSE, BUTTON, MEDIA, NUM, SYM, FUN, EXTRA, TAP};

#define _COLE \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │  Q     │  W     │  F     │  P     │  B     │   │  J     │  L     │  U     │  Y     │ ' "    │ */\
	KC_Q,    KC_W,    KC_F,    KC_P,    KC_B,        KC_J,    KC_L,    KC_U,    KC_Y,    KC_QUOT,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │  A     │  R     │  S     │  T     │  G     │   │  M     │  N     │  E     │  I     │  O     │ */\
	KC_A,    KC_R,    KC_S,    KC_T,    KC_G,        KC_M,    KC_N,    KC_E,    KC_I,    KC_O,       \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │  Z     │  X     │  C     │  D     │  V     │   │  K     │  H     │ , <    │ . >    │ / ?    │ */\
	KC_Z,    KC_X,    KC_C,    KC_D,    KC_V,        KC_K,    KC_H,    KC_COMM, KC_DOT,  KC_SLSH,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      MED_ESC, NAV_SPC, MSE_TAB,     SYM_ENT, NUM_BSP, FUN_DEL
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _GAME \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │  Q     │  W     │  E     │  R     │  T     │   │  Y     │  U     │  I     │  O     │  P     │ */\
    KC_ESC,   KC_Q,    KC_W,    KC_E,    KC_R,       KC_T,    KC_Y,    KC_U,    KC_I,    KC_O,       \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │  A     │  S     │  D     │  F     │  G     │   │  H     │  J     │  K     │  L     │ ' "    │ */\
    KC_LSFT,  KC_A,    KC_S,    KC_D,    KC_F,       KC_G,    KC_H,    KC_J,    KC_K,    KC_L,       \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │  Z     │  X     │  C     │  V     │  B     │   │  N     │  M     │ , <    │ . >    │ / ?    │ */\
    KC_LCTL,  KC_Z,    KC_X,    KC_C,    KC_V,       KC_B,    KC_N,    KC_M,    KC_COMM, KC_DOT,     \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      MED_ESC, NAV_SPC, MSE_TAB,     SYM_ENT, NUM_BSP, FUN_DEL
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _NAV \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    _______, _______, _______, _______, _______,     _______, _______, _______, _______, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_LGUI, KC_LALT, KC_LCTL, KC_LSFT, _______,     KC_LEFT, KC_UP,   KC_DOWN, KC_RGHT, CW_TOGG,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	_______, KC_ALGR, _______, _______, _______,     KC_HOME, KC_PGUP, KC_PGDN, KC_END,  KC_INS,     \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      _______, _______, _______,      KC_ENT, KC_BSPC,  KC_DEL
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _MOUSE \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    _______, _______, _______, _______, _______,     U_RDO,   U_PST,   U_CPY,   U_CUT,   U_UND,      \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    KC_LGUI, KC_LALT, KC_LCTL, KC_LSFT, _______,     KC_MS_L, KC_MS_U, KC_MS_D, KC_MS_R, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    _______, KC_ALGR, _______, _______, _______,     KC_WH_L, KC_WH_U, KC_WH_D, KC_WH_R, _______,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      _______, _______, _______,     KC_BTN2, KC_BTN1, KC_BTN3
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _BUTTON \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    U_UND,   U_CUT,   U_CPY,   U_PST,   U_RDO,       U_RDO,   U_PST,   U_CPY,   U_CUT,   U_UND,      \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_LGUI, KC_LALT, KC_LCTL, KC_LSFT, _______,     _______, KC_RSFT, KC_RCTL, KC_RALT, KC_RGUI,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    U_UND,   U_CUT,   U_CPY,   U_PST,   U_RDO,       U_RDO,   U_PST,   U_CPY,   U_CUT,   U_UND,      \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      KC_BTN3, KC_BTN1, KC_BTN2,     KC_BTN2, KC_BTN1, KC_BTN3
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _MEDIA \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    _______, _______, _______, _______, _______,     _______, _______, _______, _______, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_LGUI, KC_LALT, KC_LCTL, KC_LSFT, _______,     KC_MPRV, KC_VOLD, KC_VOLU, KC_MNXT, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	_______, _______, _______, _______, _______,     _______, _______, _______, _______, _______,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      _______, _______, _______,     KC_MSTP, KC_MPLY, KC_MUTE
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _NUM \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    KC_LCBR, KC_7,    KC_8,    KC_9,    KC_RCBR,     _______, _______, _______, _______, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_COLN, KC_4,    KC_5,    KC_6,    KC_EQL,      _______, KC_RSFT, KC_RCTL, KC_RALT, KC_RGUI,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_GRV,  KC_1,    KC_2,    KC_3,    KC_BSLS,     _______, _______, _______, _______, _______,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      KC_DOT,  KC_0,    KC_MINS,     _______, _______, _______
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _SYM \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    KC_LCBR, KC_AMPR, KC_ASTR, KC_LPRN, KC_RCBR,     _______, _______, _______, _______, _______,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_COLN, KC_DLR,  KC_PERC, KC_CIRC, KC_PLUS,     _______, KC_RSFT, KC_RCTL, KC_RALT, KC_RGUI,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_TILD, KC_EXLM, KC_AT,   KC_HASH, KC_PIPE,     _______, _______, _______, _______, _______,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      KC_LPRN, KC_RPRN, KC_UNDS,      _______, _______, _______
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */
#define _FUN \
/* ╭────────┬────────┬────────┬────────┬────────╮   ╭────────┬────────┬────────┬────────┬────────╮ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
    KC_F12,  KC_F7,   KC_F8,   KC_F9,   KC_PSCR,    _______, _______, _______, _______, _______,     \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_F11,  KC_F4,   KC_F5,   KC_F6,   KC_SCRL,     _______, KC_RSFT, KC_RCTL, KC_RALT, KC_RGUI,    \
/* ├────────┼────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┼────────┤ */\
/* │        │        │        │        │        │   │        │        │        │        |        │ */\
	KC_F10,  KC_F1,   KC_F2,   KC_F3,   KC_PAUS,     _______, _______, _______, _______, _______,    \
/* ╰────────┴────────┼────────┼────────┼────────┤   ├────────┼────────┼────────┼────────┴────────╯ */\
                      KC_APP,  KC_SPC,  KC_TAB,      _______, _______, _______
/*                   ╰────────┴────────┴────────╯   ╰────────┴────────┴────────╯ */

// Mod-tap wrapper
#define HRM(k) HR_MODTAP(k)
#define HR_MODTAP( \
	  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05, \
	  l06, l07, l08, l09, l10,   r06, r07, r08, r09, r10, \
	  l11, l12, l13, l14, l15,   r11, r12, r13, r14, r15, \
	            l16, l17, l18,   r16, r17, r18            \
) \
	  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05,       \
HRML(l06, l07, l08, l09), l10,   r06, HRMR(r07, r08, r09, r10), \
 BTN(l11), l12, l13, l14, l15,   r11, r12, r13, r14, BTN(r15), \
	            l16, l17, l18,   r16, r17, r18


// Layout aliases for json keymap
#define LAYOUT_34key_w(...) LAYOUT_split_3x5_2(__VA_ARGS__)
#define LAYOUT_crkbd_w(...) LAYOUT_split_3x6_3(__VA_ARGS__)
#define LAYOUT_58key_w(...) LAYOUT(__VA_ARGS__)
#define LAYOUT_ortho_w(...) LAYOUT_ortho_4x12(__VA_ARGS__)

// Convert 3x5_2 to 42-key
#define C_42(k) CONV_42(k)
#define CONV_42( \
	  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05, \
	  l06, l07, l08, l09, l10,   r06, r07, r08, r09, r10, \
	  l11, l12, l13, l14, l15,   r11, r12, r13, r14, r15, \
	            l16, l17, l18,   r16, r17, r18            \
) \
KC_TAB,  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05, KC_BSPC, \
QK_GESC, l06, l07, l08, l09, l10,   r06, r07, r08, r09, r10, KC_SCLN, \
KC_LSFT, l11, l12, l13, l14, l15,   r11, r12, r13, r14, r15, KC_ENT,  \
	     RSA_T(KC_ESC), l16, l17,   r16, r17, RAG_T(KC_DEL)

// Convert 3x5_2 to 4x12
#define C_O(k) CONV_4x12(k)
#define CONV_4x12( \
	  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05, \
	  l06, l07, l08, l09, l10,   r06, r07, r08, r09, r10, \
	  l11, l12, l13, l14, l15,   r11, r12, r13, r14, r15, \
	            l16, l17, l18,   r16, r17, r18            \
) \
                 KC_TAB,  l01, l02, l03, l04, l05, r01, r02, r03, r04, r05, KC_BSPC, \
                 QK_GESC, l06, l07, l08, l09, l10, r06, r07, r08, r09, r10, KC_SCLN, \
                 KC_LSFT, l11, l12, l13, l14, l15, r11, r12, r13, r14, r15, KC_ENT,  \
KC_DEL, KC_VOLD, KC_VOLU, RSA_T(KC_ESC), l16, l17, r16, r17, KC_LEFT, KC_DOWN, KC_UP, KC_RGHT

// Convert 3x5_2 to 58-key
#define C_58(k) CONV_58(k)
#define CONV_58( \
	  l01, l02, l03, l04, l05,   r01, r02, r03, r04, r05, \
	  l06, l07, l08, l09, l10,   r06, r07, r08, r09, r10, \
	  l11, l12, l13, l14, l15,   r11, r12, r13, r14, r15, \
	            l16, l17, l18,   r16, r17, r18            \
) \
QK_GESC, KC_1   , KC_2   , KC_3   , KC_4   , KC_5   ,                   KC_6   , KC_7   , KC_8   , KC_9   , KC_0   , KC_GRV , \
KC_TAB , l01    , l02    , l03    , l04    , l05    ,                   r01    , r02    , r03    , r04    , r05    , KC_MINS, \
KC_LCTL, l06    , l07    , l08    , l09    , l10    ,                   r06    , r07    , r08    , r09    , r10    , KC_QUOT, \
KC_LSFT, l11    , l12    , l13    , l14    , l15    , KC_LBRC, KC_RBRC, r11    , r12    , r13    , r14    , r15    , KC_RSFT, \
                           KC_LALT, KC_LGUI, l16    , l17    , r16    , r17    , KC_BSPC, KC_RGUI
